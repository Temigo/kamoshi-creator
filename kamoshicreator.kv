<Layout>:

<PaperLayout>:
    canvas:
        Color:
            rgba: 0, 0, 1, 0.1
        Rectangle:
            pos: 0, 0  # Relative Layout !
            size: self.size

<PaperWidget>:
    PaperLayout:
        size: root.size
        pos: root.pos


<Toolbar>:
    canvas:
        Color:
            rgb: 0.5, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        pos: root.pos

        Button:
            text: 'New'
            on_press: root.new()
        Button:
            text: 'Save'
            on_press: root.save()
        Button:
            text: 'Open'
            on_press: root.open()
        Button:
            text: 'V/M'
            on_press: root.valley_moutain()
        Button:
            text: '1/10'
            on_press: root.scale()

<LayersSlider>:
    orientation: 'vertical'
    min: 0
    max: +10
    step: 1
    value: 0

<KamoshiPaintLayout>:
    canvas:
        Color:
            rgb: 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos
    size: root.size
    base: min(root.size[0]/2, root.size[1]/2)
    PaperWidget:
        size_hint: None, None
        size: root.base, root.base
        pos_hint: {'center_y': 0.5, 'center_x': 0.5}

<LayersLayout>:
    orientation: 'vertical'
    Label:
        text: str(layers_slider.value)
        size_hint: 1, 0.1
    LayersSlider:
        size_hint: 1, 0.9
        id: layers_slider


<KamoshiCreatorMain>:
    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        pos: root.pos

        LayersLayout:
            size_hint: 0.1, 1
        KamoshiPaintLayout:
            size_hint: 0.9, 1


<KamoshiCreatorLayout>:
    orientation: 'vertical'
    Toolbar:
        size_hint: 1, 0.1
    KamoshiCreatorMain:
        size_hint: 1, 0.9
